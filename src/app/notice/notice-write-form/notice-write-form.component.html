<vex-page-layout>
	<vex-page-layout-header class="pb-16" fxLayout="column" fxLayoutAlign="center start">
    <div [class.container]="layoutCtrl.value === 'boxed'"
         [class.px-gutter]="layoutCtrl.value === 'fullwidth'"
         class="w-full flex flex-col sm:flex-row justify-between">
      <div>
        <h1 class="title mt-0 mb-1">공지사항</h1>
        <vex-breadcrumbs [crumbs]="['Notice-write']"></vex-breadcrumbs>
      </div>
    </div>
  </vex-page-layout-header>
  <vex-page-layout-content>
	  <div id="noticeWrap">
	<div id="noticeHeader">
		<h2>공지사항 작성</h2>
	</div>
	<div id="formGroup" [formGroup]="form" class="p-6" fxLayout="column" fxLayoutGap="16px">
		
		<div id="titleWrap" fxFlex="auto" fxLayout="column">
			<mat-form-field fxFlex="grow" appearance="standard">
				<mat-label>제목:</mat-label>
				<input  *ngIf="boardNo==null" formControlName="title" matInput maxlength="34">
				<input *ngIf="boardNo!=null" formControlName="title"  #title [(ngModel)]="notice.title" matInput maxlength="34">
			</mat-form-field>
		</div>

		<div id="fileWrap">
			<div>
				<input type="file" multiple id="file" (change)="selectFiles($event)" style="display: none;">
				<label id="fileLabel" for="file">파일 선택</label>
			</div>
			<div *ngIf="display=='block'" id="fileBox">
				<ul>
					<li *ngFor="let file of files" ><button (click)="close(this,$event.srcElement.parentElement.textContent)" class="close_btn">x</button>{{file.name}}</li>
				</ul>
			</div>
		</div>
		
		<div id="contentWrap">
			<mat-form-field fxFlex="grow" >
				<mat-label>내용:</mat-label>
				<textarea *ngIf="boardNo==null" formControlName="content" matInput maxlength="100"></textarea>
				<textarea *ngIf="boardNo!=null" formControlName="content" #content matInput [(ngModel)]="notice.content" matInput maxlength="100"></textarea>
			</mat-form-field>
		</div>

		<div id="buttonWrap">
			<button color="primary" mat-raised-button (click)="cancel()">취소</button>
			<button color="primary" mat-raised-button  *ngIf="boardNo==null" (click)="insert(form)">등록</button>
			<button color="primary" mat-raised-button  *ngIf="boardNo!=null" (click)="update(form)">등록</button>
		</div>
	</div>
</div>
  </vex-page-layout-content>
</vex-page-layout>
